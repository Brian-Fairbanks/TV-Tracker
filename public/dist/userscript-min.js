var moviesActive=!1;document.getElementById("movie-arrow").addEventListener("click",function(){moviesActive=!moviesActive,moviesActive?(document.querySelectorAll(".movie").forEach(a=>a.classList.add("hidden")),document.getElementById("movie-arrow").classList.add("fa-caret-square-down"),document.getElementById("movie-arrow").classList.remove("fa-caret-square-up")):(document.querySelectorAll(".movie").forEach(a=>a.classList.remove("hidden")),document.getElementById("movie-arrow").classList.add("fa-caret-square-up"),document.getElementById("movie-arrow").classList.remove("fa-caret-square-down"))});var showsActive=!1;document.getElementById("show-arrow").addEventListener("click",function(){showsActive=!showsActive,showsActive?(document.querySelectorAll(".show").forEach(a=>a.classList.add("hidden")),document.getElementById("show-arrow").classList.add("fa-caret-square-down"),document.getElementById("show-arrow").classList.remove("fa-caret-square-up")):(document.querySelectorAll(".show").forEach(a=>a.classList.remove("hidden")),document.getElementById("show-arrow").classList.add("fa-caret-square-up"),document.getElementById("show-arrow").classList.remove("fa-caret-square-down"))}),$(document).ready(function(){appenddata(),$(document).on("click",".delete",handleWatchlistRemove)});function handleWatchlistRemove(){console.log(this);const a=$(this).attr("data-movie-id");$.ajax({url:"/api/user/watchlist",type:"DELETE",data:{movieID:a}}).then(function(a){console.log(a),appenddata()})}async function appenddata(){const a=await getWatchList();$("#movies").empty(),$("#shows").empty(),a.forEach(a=>{var b=`<a href="/content/${a.name}-${a.imdbID}"><h2 id="title" style="width:200px; overflow:wrap;" overflow"><img class="m-auto"src="${"N/A"!==a.poster&&null!==a.poster?a.poster:"/assets/poster1.png"}" alt="Movie poster" style="width: 100px;"/>${a.name}</a></h2>
      <div id="genre" class="mt-3 sm:m-0">${a.genre.split(",").map(a=>`<div class="inline-block sm:block px-2">${a}</div>`).join("")}</div>
      <h2 id="release-date">${a.releaseDate}</h2>
      <h2 id="run-time">${a.runtime}</h2>
      <h3 class="text-teal-200 hover:text-teal-500 mt-3 sm:m-0">
      <div data-movie-id="${a.id}" class="absolute cursor-pointer delete" style="top: 10px; right: 10px;"> <i class="text-red-600 far fa-window-close"></i> </div>
      </div>`;"movie"===a.type?(b="<div class='relative sm:flex-row flex-col w-full lg:max-w-4xl md:max-w-3xl sm:max-w-xl max-w-lg m-auto container flex-auto flex justify-between py-3 text-center items-center bg-gray-900 border-b-2 border-teal-500 text-white movie'>"+b,$("#movies").append(b)):(b="<div class='relative sm:flex-row flex-col w-full lg:max-w-4xl md:max-w-3xl sm:max-w-xl max-w-lg m-auto container flex-auto flex justify-between py-3 text-center items-center bg-gray-900 border-b-2 border-teal-500 text-white show'>"+b,$("#shows").append(b))})}